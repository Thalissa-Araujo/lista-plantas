<!-- Menu lateral mobile -->
<div class="fixed inset-0 flex z-40 lg:hidden transition ease-in-out duration-700 transform -translate-x-full" [ngClass]="{'translate-x-0': offsetMenu}" role="dialog" aria-modal="true">

  <!-- Fundo escurecido -->
  <div class="fixed inset-0 bg-gray-600 bg-opacity-75 transition-opacity" [ngClass]="{'opacity-100': offsetMenu}" aria-hidden="true"></div>

  <!-- Menu lateral -->
  <div class="relative flex-1 flex flex-col max-w-xs w-full pt-5 pb-4 bg-[#2D9263] transition-transform duration-500" [ngClass]="{'translate-x-0': offsetMenu}">

    <!-- Botão fechar -->
    <div class="absolute top-0 right-0 -mr-12 pt-2">
      <button type="button" class="ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white" (click)="offsetMenu = !offsetMenu; onMenu(offsetMenu)">
        <span class="sr-only">Fechar</span>
        <svg class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
    </div>

    <!-- Logo -->
    <div class="flex items-center px-4">
      <h2 class="font-bold text-[#021D11] text-2xl">Plantarium</h2>
    </div>

    <!-- Navegação -->
    <nav class="mt-5 h-full divide-y divide-[#2D9263] overflow-y-auto" aria-label="Sidebar">
      <div class="px-2 space-y-1">
        <a *ngFor="let item of sideMenu"
           [routerLink]="item.url"
           routerLinkActive="bg-[#2D9263]"
           [routerLinkActiveOptions]="{exact:true}"
           (click)="offsetMenu = false; onMenu(offsetMenu)"
           class="text-[#021D11] hover:text-white hover:bg-[#2D9263] group flex items-center px-2 py-2 text-lg leading-6 font-medium rounded-md"
           [attr.title]="item.title">
          <span [innerHTML]="getSVGImage(item.icon)"></span>
          <span class="ml-2">{{ item.label }}</span>
        </a>
      </div>

      <!-- Login/Logout -->
      <div class="px-2 mt-6 space-y-1">
        <a *ngIf="isLoggedIn" (click)="logout()" class="cursor-pointer flex items-center px-2 py-2 text-sm font-medium text-[#021D11] hover:text-white hover:bg-[#2D9263] rounded-md">
          <svg class="mr-4 h-6 w-6 text-[#021D11]" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
          </svg>
          Sair
        </a>
        <a *ngIf="!isLoggedIn" routerLink="/login" class="flex items-center px-2 py-2 text-sm font-medium text-[#021D11] hover:text-white hover:bg-[#2D9263] rounded-md">
          <svg class="mr-4 h-6 w-6 text-[#021D11]" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1" />
          </svg>
          Entrar
        </a>
      </div>
    </nav>
  </div>
</div>

<!-- Menu lateral desktop -->
<div class="hidden lg:flex lg:w-64 lg:flex-col lg:fixed lg:inset-y-0 bg-[#2D9263]">
  <div class="flex flex-col flex-grow pt-5 pb-4 overflow-y-auto">
    <div class="flex items-center px-4">
      <h2 class="font-bold text-[#021D11] text-3xl">Plantarium</h2>
    </div>

    <nav class="mt-5 flex-1 flex flex-col divide-y divide-[#2D9263] overflow-y-auto" aria-label="Sidebar">
      <div class="px-2 space-y-1">
        <a *ngFor="let item of sideMenu"
           [routerLink]="item.url"
           routerLinkActive="bg-[#2D9263]"
           [routerLinkActiveOptions]="{exact:true}"
           (click)="offsetMenu = false; onMenu(offsetMenu)"
           class="text-[#021D11] hover:text-white hover:bg-[#2D9263] group flex items-center px-2 py-2 text-lg font-medium rounded-md"
           [attr.title]="item.title">
          <span [innerHTML]="getSVGImage(item.icon)"></span>
          <span class="ml-2">{{ item.label }}</span>
        </a>
      </div>

      <!-- Configuração ou Logout/Login Desktop -->
      <div class="mt-6 pt-6 px-2 space-y-1">
        <a *ngIf="isLoggedIn" (click)="logout()" class="cursor-pointer flex items-center px-2 py-2 text-sm font-medium text-[#021D11] hover:text-white hover:bg-[#2D9263] rounded-md">
          <svg class="mr-4 h-6 w-6 text-[#021D11]" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
          </svg>
          Sair
        </a>
        <a *ngIf="!isLoggedIn" routerLink="/login" class="flex items-center px-2 py-2 text-sm font-medium text-[#021D11] hover:text-white hover:bg-[#2D9263] rounded-md">
          <svg class="mr-4 h-6 w-6 text-[#021D11]" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1" />
          </svg>
          Entrar
        </a>
      </div>
    </nav>
  </div>
</div>
